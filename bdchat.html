<!DOCTYPE html>
<html>
<head>
    <title>Чат</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        #header {
            background-color: #333;
            color: white;
            padding: 10px;
            text-align: center;
        }
        #container {
            display: flex;
            flex-direction: row;
            height: 90vh;
        }
        #chat-box {
            flex: 2;
            background-color: #f1f1f1;
            overflow-y: scroll;
            padding: 10px;
            height: 100%;
        }
        #input-box {
            flex: 1;
            background-color: white;
            padding: 10px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        #message-input {
            height: 60%;
            padding: 5px;
            font-size: 16px;
            border-radius: 5px;
            border: none;
            resize: none;
            margin-bottom: 10px;
        }
        #send-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }
        #clear-button {
            background-color: #f44336;
            color: white;
            padding: 10px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div id="header">
    <h1>Бдыщ-чат</h1>
</div>
<div id="container">
    <div id="chat-box">
    </div>
    <div id="input-box">
        <textarea id="message-input" placeholder="Напишите что-нибудь..."></textarea>
        <button id="send-button">Бдыщ</button>
        <button id="clear-button">Очистить</button>
    </div>
</div>

<script>
    function addMessage(message) {
        const chatBox = document.getElementById("chat-box");
        const messageNode = document.createElement("div");
        messageNode.innerHTML = message;
        chatBox.appendChild(messageNode);
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function sendMessage() {
        const messageInput = document.getElementById("message-input");
        const message = messageInput.value.trim();
        if (message !== "") {
            addMessage("<b>You:</b> " + message);
            messageInput.value = "";

            // Send message to ChatGPT API
            fetch("https://api.openai.com/v1/chat/completions", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer YOUR_API_KEY" // Replace YOUR_API_KEY with your actual API key
                },
                body: JSON.stringify({
                    "messages": [
                        {"role": "system", "content": "You are"},
                        {"role": "user", "content": message}
                    ]
                })
            })
            .then(response => response.json())
            .then(data => {
                const reply = data.choices[0].message.content;
                addMessage("<b>ChatGPT:</b> " + reply);
            })
            .catch(error => {
                console.error("Error:", error);
            });
        }
    }

    function clearChat() {
        const chatBox = document.getElementById("chat-box");
        chatBox.innerHTML = "";
    }

    document.getElementById("send-button").addEventListener("click", function() {
        sendMessage();
    });

    document.getElementById("message-input").addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            sendMessage();
            event.preventDefault();
        }
    });

    document.getElementById("clear-button").addEventListener("click", function() {
        clearChat();
    });
</script>

</body>
</html>
